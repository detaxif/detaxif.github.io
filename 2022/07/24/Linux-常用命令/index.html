<!DOCTYPE html>
<html lang="ch">
  <head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="yeung">







<title>Linux-常用命令 | YE&#39;s BLOG</title>



    <link rel="icon" href="/favicon.ico">



<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto+Mono&display=swap');
</style>



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    




    <!-- scripts list from _config.yml -->
    
    <script src="/js/frame.js"></script>
    







  <meta name="generator" content="Hexo 5.4.1"></head>
  <body>
    <div class="mask-border">
    </div>

    <div class="wrapper">

      <div class="header">
  <div class="flex-container">
    <div class="header-inner">
      <div class="site-brand-container">
        <a href="/">Ultralight Beam.</a>
      </div>
      <div id="menu-btn" class="menu-btn" onclick="toggleMenu()">
        Menu
      </div>
      <nav class="site-nav">
        <ul class="menu-list">
          
            
              <li class="menu-item">
                <a href="/">Home</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/archives/">Archives</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/about/">About</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/tag/">Tags</a>
              </li> 
                   
          
        </ul>
      </nav>
    </div>
  </div>
</div>


      <div class="main">
        <div class="flex-container">
          <article id="post">

  
    <div class="post-head">
    <div class="post-info">
        <div class="tag-list">
            
                
                    <span class="post-tag">
                        <a href="/tags/Linux/">
                            Linux
                        </a>
                    </span>    
                           
            
        </div>
        <div class="post-title">
            
            
                Linux-常用命令
            
            
        </div>
        <span class="post-date">
            07 24, 2022
        </span>
    </div>
    <div class="post-img">
        
            <div class="h-line-primary"></div>
              
    </div>
</div>
    <div class="post-content">
    <h1 id="Linux-常用命令"><a href="#Linux-常用命令" class="headerlink" title="Linux-常用命令"></a>Linux-常用命令</h1><h2 id="关机-重启-注销"><a href="#关机-重启-注销" class="headerlink" title="关机 / 重启 / 注销"></a>关机 / 重启 / 注销</h2><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">shutdown -h now</td>
<td align="left">关机</td>
</tr>
<tr>
<td align="left">init 0</td>
<td align="left">关机</td>
</tr>
<tr>
<td align="left">reboot</td>
<td align="left">重启</td>
</tr>
<tr>
<td align="left">sync</td>
<td align="left">buff 数据同步到磁盘</td>
</tr>
<tr>
<td align="left">logout</td>
<td align="left">退出登录 Shell</td>
</tr>
</tbody></table>
<h2 id="用户-用户组"><a href="#用户-用户组" class="headerlink" title="用户 / 用户组"></a>用户 / 用户组</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>useradd username</td>
<td>创建用户</td>
</tr>
<tr>
<td>userdel -r username</td>
<td>删除用户</td>
</tr>
<tr>
<td>usermod -g groupname username</td>
<td>修改用户的组</td>
</tr>
<tr>
<td>usermod -aG groupname username</td>
<td>将用户添加到组</td>
</tr>
<tr>
<td>groupadd groupname</td>
<td>创建组</td>
</tr>
<tr>
<td>groupdel groupname</td>
<td>删除组</td>
</tr>
<tr>
<td>groupmod -n new_name old_name</td>
<td>重命名组</td>
</tr>
<tr>
<td>su - username</td>
<td>完整切换到一个用户环境</td>
</tr>
<tr>
<td>passwd</td>
<td>修改当前用户的密码</td>
</tr>
<tr>
<td>passwd username</td>
<td>修改指定用户的密码</td>
</tr>
<tr>
<td>id username</td>
<td>查看指定用户的信息</td>
</tr>
</tbody></table>
<h2 id="文件和目录操作"><a href="#文件和目录操作" class="headerlink" title="文件和目录操作"></a>文件和目录操作</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>cd dir</td>
<td>进入指定目录</td>
</tr>
<tr>
<td>cd ..</td>
<td>返回上级目录</td>
</tr>
<tr>
<td>cd ../..</td>
<td>返回上两级目录</td>
</tr>
<tr>
<td>cd</td>
<td>进入个人主目录</td>
</tr>
<tr>
<td>cd -</td>
<td>返回上一步所在目录</td>
</tr>
<tr>
<td>pwd</td>
<td>显示当前路径</td>
</tr>
<tr>
<td>ls</td>
<td>查看目录文件列表</td>
</tr>
<tr>
<td>ls -a</td>
<td>查看所有文件，包括隐藏文件</td>
</tr>
<tr>
<td>ls -l</td>
<td>查看文件和目录的详情列表</td>
</tr>
<tr>
<td>ls -lh</td>
<td>增强可读性地查看文件和目录的详情列表</td>
</tr>
<tr>
<td>mkdir dir</td>
<td>创建目录</td>
</tr>
<tr>
<td>mkdir dir1 dir2</td>
<td>同时创建两个目录</td>
</tr>
<tr>
<td>rm -f file1</td>
<td>删除文件</td>
</tr>
<tr>
<td>rmdir dir1</td>
<td>删除目录</td>
</tr>
<tr>
<td>rm -rf dir1</td>
<td>删除目录和其中的内容</td>
</tr>
<tr>
<td>rm -rf dir1 dir2</td>
<td>同时删除两个目录和其中的内容</td>
</tr>
<tr>
<td>mv old_dir new_dir</td>
<td>重命名/移动目录</td>
</tr>
<tr>
<td>cp [选项] source dest</td>
<td>拷贝文件到指定目录 cp hello.txt bbb/。常用选项为 -r，递归复制整个文件夹 cp -r /home/bbb /opt/。使用\cp 拷贝时强制覆盖不提示。</td>
</tr>
<tr>
<td>cp dir/* .</td>
<td>复制某目录下的所有文件到当前目录</td>
</tr>
<tr>
<td>cp -a /tmp/dir .</td>
<td>复制一个目录到当前目录</td>
</tr>
<tr>
<td>touch file1</td>
<td>创建空文件</td>
</tr>
<tr>
<td>ln -s file1 link1</td>
<td>创建指向文件/目录的软连接</td>
</tr>
<tr>
<td>ln file1 link1</td>
<td>创建指向文件/目录的物理连接</td>
</tr>
<tr>
<td>find / -name filename</td>
<td>从根目录开始，以文件名搜索文件/目录</td>
</tr>
<tr>
<td>find / -user username</td>
<td>从根目录开始，搜索指定用户的文件/目录</td>
</tr>
<tr>
<td>find /dir -name “*.txt”</td>
<td>在目录/dir中搜索带有txt后缀的文件</td>
</tr>
<tr>
<td>locate filename</td>
<td>快速定位文件</td>
</tr>
<tr>
<td>which / whereis 关键词</td>
<td>查找可执行文件的路径</td>
</tr>
<tr>
<td>chmod u=rwx, g=rx, o=x filename</td>
<td>修改文件或目录的权限。u:所有者，g:所有组，o:其他人，a:所有人，r:读，w:写，x:执行。</td>
</tr>
<tr>
<td>chmod o+w filename</td>
<td>增加其他人写的权限</td>
</tr>
<tr>
<td>chmod a-x filename</td>
<td>取消所有人执行的权限</td>
</tr>
<tr>
<td>chmod 751 filename</td>
<td>通过数字变更权限。r=4，w=2，r=1，rwx=7。751相当于u=rwx，g=rx，o=x。</td>
</tr>
<tr>
<td>chown username filename</td>
<td>改变文件的所有者属性</td>
</tr>
<tr>
<td>chown -R username dir</td>
<td>改变目录的所有者属性</td>
</tr>
<tr>
<td>chgrp groupname filename</td>
<td>改变文件所属组</td>
</tr>
<tr>
<td>chown username:groupname filename</td>
<td>改变文件的所有人和所在组</td>
</tr>
</tbody></table>
<h2 id="文件查看和处理"><a href="#文件查看和处理" class="headerlink" title="文件查看和处理"></a>文件查看和处理</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>cat filename</td>
<td>查看文件内容</td>
</tr>
<tr>
<td>cat -n filename</td>
<td>查看内容并显示行数</td>
</tr>
<tr>
<td>more filename</td>
<td>一页一页地查看长文件。空格键显示下一页，b键显示上一页，会一次性加载完整个文件。</td>
</tr>
<tr>
<td>less filename</td>
<td>一页一页地查看长文件。空格键显示下一页，b键显示上一页，不会一次性加载完整个文件。</td>
</tr>
<tr>
<td>head -2 filename</td>
<td>查看文件前两行</td>
</tr>
<tr>
<td>tail -2 filename</td>
<td>查看文件后两行</td>
</tr>
<tr>
<td>grep ye hello.txt</td>
<td>在文件hello.txt中查找关键词ye</td>
</tr>
<tr>
<td>grep ^ye hello.txt</td>
<td>在文件hello.txt中查找ye开头的内容</td>
</tr>
<tr>
<td>grep [0-9] hello.txt</td>
<td>选择文件hello.txt中所有包含数字的行</td>
</tr>
<tr>
<td>echo “hello” &gt; test.txt</td>
<td>用echo中的内容覆盖test.txt的内容</td>
</tr>
<tr>
<td>echo “hello” &gt;&gt; test.txt</td>
<td>追加echo中的内容到test.txt</td>
</tr>
</tbody></table>
<h2 id="打包和解压"><a href="#打包和解压" class="headerlink" title="打包和解压"></a>打包和解压</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>zip xxx.zip filename</td>
<td>压缩文件至zip包</td>
</tr>
<tr>
<td>zip -r xxx.zip file1 file2 dir</td>
<td>压缩多个文件和目录至zip包</td>
</tr>
<tr>
<td>unzip xxx.zip</td>
<td>解压zip包</td>
</tr>
<tr>
<td>tar -cvf xxx.tar file1 [file2 dir…]</td>
<td>创建非压缩tar包</td>
</tr>
<tr>
<td>tar -xvf xxx.tar</td>
<td>解压非压缩tar包</td>
</tr>
<tr>
<td>tar -xvf xxx.tar -C /dir</td>
<td>解压非压缩tar包到指定目录</td>
</tr>
<tr>
<td>tar -zcvf xxx.tar.gz dir</td>
<td>创建gzip压缩包</td>
</tr>
<tr>
<td>tar -zxvf xxx.tar.gz</td>
<td>解压gzip压缩包</td>
</tr>
<tr>
<td>tar -zxvf xxx.tar.gz -C /dir</td>
<td>解压gzip压缩包到指定目录</td>
</tr>
</tbody></table>
<h2 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>ps -ef</td>
<td>查看所有进程</td>
</tr>
<tr>
<td>ps -ef | grep ye</td>
<td>过滤出需要查看的进程</td>
</tr>
<tr>
<td>kill pid</td>
<td>通过进程号中终止进程</td>
</tr>
<tr>
<td>kill -9 pid</td>
<td>强制终止进程</td>
</tr>
<tr>
<td>killall name</td>
<td>可以通过进程名终止进程，如打开多个文本编辑器后 killall gedit</td>
</tr>
<tr>
<td>top [-d 秒数 | -i | -p]</td>
<td>实时显示进程状态，-d指定命令每隔几秒更新，默认3秒，-i不显示任何闲置或僵死进程，-p指定进程id来仅仅监控某个进程的状态。P按CPU使用率排序，M按内存使用率排序，输入u回车再输入用户名以监控指定用户相关的进程，输入k回车再输入指定pid再输入信号量如9以终止指定进程，q退出</td>
</tr>
<tr>
<td>pstree [-p | -u]</td>
<td>以树状的形式展示进程信息，-p显示进程的pid，-u显示进程的所属用户</td>
</tr>
</tbody></table>
<h2 id="系统服务"><a href="#系统服务" class="headerlink" title="系统服务"></a>系统服务</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>systemctl status &lt;服务名&gt;</td>
<td>查看某个服务</td>
</tr>
<tr>
<td>systemctl start &lt;服务名&gt;</td>
<td>启动某个服务</td>
</tr>
<tr>
<td>systemctl stop &lt;服务名&gt;</td>
<td>终止某个服务</td>
</tr>
<tr>
<td>systemctl restart &lt;服务名&gt;</td>
<td>重启某个服务</td>
</tr>
<tr>
<td>systemctl enable &lt;服务名&gt;</td>
<td>开启自启动</td>
</tr>
<tr>
<td>systemctl disable &lt;服务名&gt;</td>
<td>关闭自启动</td>
</tr>
<tr>
<td>systemctl is-enabled &lt;服务名&gt;</td>
<td>查询某个服务是否是自启动的</td>
</tr>
<tr>
<td>ufw status</td>
<td>ubuntu下查看防火墙状态和定义的ufw规则</td>
</tr>
<tr>
<td>ufw allow 111/tcp</td>
<td>ubuntu下开放111端口</td>
</tr>
<tr>
<td>ufw delete allow 111/tcp</td>
<td>ubuntu下关闭111端口</td>
</tr>
<tr>
<td>netstat -antp</td>
<td>查看已经建立的TCP连接</td>
</tr>
<tr>
<td>netstat -lntp</td>
<td>查看所有监听端口</td>
</tr>
</tbody></table>
<h2 id="磁盘和分区"><a href="#磁盘和分区" class="headerlink" title="磁盘和分区"></a>磁盘和分区</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>fdisk -l</td>
<td>查看所有磁盘分区</td>
</tr>
<tr>
<td>df -h</td>
<td>查看磁盘使用情况及挂载点</td>
</tr>
<tr>
<td>du</td>
<td>查看当前目录磁盘占用情况，-s置顶目录占用大小汇总，-h带计量单位，-a含文件，–max-depth=1子目录深度为1，-c列出明细的同时增加汇总值</td>
</tr>
<tr>
<td>du -sh /dir</td>
<td>查看指定目录的磁盘占用情况</td>
</tr>
<tr>
<td>ls -l /opt | grep “^-“ | wc -l</td>
<td>统计opt目录下的文件个数</td>
</tr>
<tr>
<td>ls -l /opt | grep “^d” | wc -l</td>
<td>统计opt目录下的文件夹个数</td>
</tr>
<tr>
<td>ls -lR /opt | grep “^-“ | wc -l</td>
<td>统计opt目录下的文件个数，包括子文件夹内的</td>
</tr>
<tr>
<td>mount 设备名称 挂载目录</td>
<td>挂载，将一个分区与一个目录联系起来，如 mount /dev/sdb1 /newdisk。用命令行挂载，重启后会失效，通过修改/etc/fstab实现永久挂载</td>
</tr>
<tr>
<td>umount -v /dev/sdb1</td>
<td>通过设备名卸载</td>
</tr>
<tr>
<td>umount -v /newdisk</td>
<td>通过挂载点卸载</td>
</tr>
</tbody></table>
<h2 id="定时任务"><a href="#定时任务" class="headerlink" title="定时任务"></a>定时任务</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>crontab -e</td>
<td>编辑crontab定时任务</td>
</tr>
<tr>
<td>crontab -l</td>
<td>查询crontab任务</td>
</tr>
<tr>
<td>crontab -r</td>
<td>删除当前用户的所有crontab任务</td>
</tr>
<tr>
<td>service crond restart</td>
<td>重启任务调度</td>
</tr>
<tr>
<td>at [选项] [时间]</td>
<td>创建at一次性定时任务，执行一次后就不会再执行，两次Ctrl + D 结束at命令的输入</td>
</tr>
<tr>
<td>atq</td>
<td>查看系统中有没有执行的at任务</td>
</tr>
<tr>
<td>atrm [任务编号]</td>
<td>删除已经设置的任务</td>
</tr>
</tbody></table>
<p>如何使用crontab：指定时间 + 具体操作命令，如 */1 * * * * date &gt;&gt; /tmp/myDate.log 表示每隔一分钟将当前时间追加到myDate.log中。</p>
<p>crontab中的时间时间参数有 5 位，如 1 * * * * ，每一位分别代表分钟、小时、日、月、星期几。</p>
<p>crontab中还有特殊符号，含义如下：</p>
<table>
<thead>
<tr>
<th>特殊符号</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>代表任何时间，比如第一位是 * 就表示一个小时中每一分钟执行一次</td>
</tr>
<tr>
<td>,</td>
<td>代表不连续的时间，比如 0 8,12,16 * * * 表示每天的8点0分、12点0分、16点0分执行一次</td>
</tr>
<tr>
<td>-</td>
<td>代表连续的时间范围，比如 0 5 * * 1-6 表示每周一到周六5点0分执行一次</td>
</tr>
<tr>
<td>*/n</td>
<td>代表每隔多久执行一次，比如 */10 * * * * 表示每隔10分钟执行一次</td>
</tr>
</tbody></table>

</div> 

<script>
    window.onload = detectors();
</script>
    <div class="post-footer">
    <div class="h-line-primary"></div>
    <nav class="post-nav">
        <div class="prev-item">
           
                <div class="icon arrow-left"></div>
                <div class="post-link">
                    <a href="/2022/07/29/Shell%E7%BC%96%E7%A8%8B/">Prev</a>
                </div>
            
        </div>
        <div class="next-item">
            
                <div class="icon arrow-right"></div>
                <div class="post-link">
                  <a href="/2022/07/21/MySQL-MVCC/">Next</a>  
                </div>  
            
        </div>
    </nav>
</div>

  
</article>
        </div>
      </div>
      
      <div class="footer">
    <div class="flex-container">
        <div class="footer-text">
            
            
                Ye Yang | 
            
            
                Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & <a target="_blank" rel="noopener" href="https://hexo.io/">Frame</a>
                
        </div>
    </div>
</div>

    </div>

  </body>
</html>
